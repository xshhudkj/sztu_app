<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36" version="27.1.6">
  <diagram name="WhisperPlay系统功能结构图" id="system-architecture">
    <mxGraphModel dx="1693" dy="920" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="轻聆音乐播放器系统功能结构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#2E3440;" parent="1" vertex="1">
          <mxGeometry x="350" y="20" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="presentation-layer" value="表示层 (Presentation Layer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F4FD;strokeColor=#1E88E5;fontSize=14;fontStyle=1;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="80" y="80" width="1000" height="120" as="geometry" />
        </mxCell>
        <mxCell id="splash-activity" value="SplashActivity&#xa;启动页面" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="100" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="main-activity" value="MainActivity&#xa;主界面管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="240" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="playing-activity" value="PlayingActivity&#xa;播放页面" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="380" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="login-activity" value="LoginActivity&#xa;登录页面" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="525" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fragments" value="Fragments&#xa;(Discover/Search/Mine)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="660" y="130" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dialogs" value="Dialogs&#xa;对话框组件" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="820" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="widgets" value="Custom Widgets&#xa;自定义控件" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1E88E5;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="950" y="130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="viewmodel-layer" value="视图模型层 (ViewModel Layer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#8E24AA;fontSize=14;fontStyle=1;verticalAlign=top;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="80" y="220" width="1000" height="100" as="geometry" />
        </mxCell>
        <mxCell id="voice-viewmodel" value="VoiceControlViewModel&#xa;语音控制视图模型" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#8E24AA;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="110" y="260" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="discover-viewmodel" value="DiscoverViewModel&#xa;发现页面视图模型" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#8E24AA;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="280" y="260" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="search-viewmodel" value="SearchViewModel&#xa;搜索页面视图模型" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#8E24AA;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="450" y="260" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mine-viewmodel" value="MineViewModel&#xa;个人中心视图模型" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#8E24AA;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="620" y="260" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="playing-viewmodel" value="PlayingViewModel&#xa;播放页面视图模型" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#8E24AA;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="800" y="260" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="business-layer" value="业务层 (Business Layer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;fontSize=14;fontStyle=1;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="80" y="340" width="1000" height="120" as="geometry" />
        </mxCell>
        <mxCell id="music-service" value="MusicService&#xa;音乐播放服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="100" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="player-controller" value="PlayerController&#xa;播放控制器" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="250" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="voice-service" value="VoiceControlService&#xa;语音控制服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="400" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="user-service" value="UserService&#xa;用户服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="550" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cache-manager" value="SmartCacheManager&#xa;智能缓存管理器" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="690" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="optimizer" value="FirstPlayOptimizer&#xa;首次播放优化器" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="840" y="384" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="data-layer" value="数据访问层 (Data Access Layer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;fontSize=14;fontStyle=1;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="80" y="480" width="1000" height="120" as="geometry" />
        </mxCell>
        <mxCell id="room-database" value="Room Database&#xa;本地数据库" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="100" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="network-api" value="Network APIs&#xa;网络接口" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="250" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="repositories" value="Repositories&#xa;数据仓库" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="400" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cache-storage" value="Cache Storage&#xa;缓存存储" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="550" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="preferences" value="SharedPreferences&#xa;配置存储" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="700" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="file-system" value="File System&#xa;文件系统" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="850" y="530" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="infrastructure-layer" value="基础设施层 (Infrastructure Layer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#F44336;fontSize=14;fontStyle=1;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="80" y="620" width="1000" height="120" as="geometry" />
        </mxCell>
        <mxCell id="hilt-di" value="Hilt DI&#xa;依赖注入" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="100" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="media3" value="Media3 ExoPlayer&#xa;媒体播放框架" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="240" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="baidu-speech" value="百度语音SDK&#xa;语音识别合成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="380" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="retrofit" value="Retrofit&#xa;网络框架" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="520" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="room-orm" value="Room ORM&#xa;对象关系映射" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="660" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="coroutines" value="Kotlin Coroutines&#xa;协程框架" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="800" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="automotive" value="Android Automotive&#xa;车载系统支持" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F44336;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="940" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge1" value="用户操作" style="endArrow=classic;html=1;rounded=0;strokeColor=#1E88E5;strokeWidth=2;fontColor=#1E88E5;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="200" as="sourcePoint" />
            <mxPoint x="300" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge2" value="数据绑定" style="endArrow=classic;html=1;rounded=0;strokeColor=#1E88E5;strokeWidth=2;fontColor=#1E88E5;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="200" as="sourcePoint" />
            <mxPoint x="500" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge3" value="状态管理" style="endArrow=classic;html=1;rounded=0;strokeColor=#1E88E5;strokeWidth=2;fontColor=#1E88E5;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="200" as="sourcePoint" />
            <mxPoint x="700" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge4" value="业务调用" style="endArrow=classic;html=1;rounded=0;strokeColor=#8E24AA;strokeWidth=2;fontColor=#8E24AA;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="320" as="sourcePoint" />
            <mxPoint x="200" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge5" value="服务协调" style="endArrow=classic;html=1;rounded=0;strokeColor=#8E24AA;strokeWidth=2;fontColor=#8E24AA;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="320" as="sourcePoint" />
            <mxPoint x="400" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge6" value="状态同步" style="endArrow=classic;html=1;rounded=0;strokeColor=#8E24AA;strokeWidth=2;fontColor=#8E24AA;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="320" as="sourcePoint" />
            <mxPoint x="600" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge7" value="控制逻辑" style="endArrow=classic;html=1;rounded=0;strokeColor=#8E24AA;strokeWidth=2;fontColor=#8E24AA;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="320" as="sourcePoint" />
            <mxPoint x="800" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge8" value="数据请求" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;fontColor=#4CAF50;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="460" as="sourcePoint" />
            <mxPoint x="200" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge9" value="网络调用" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;fontColor=#4CAF50;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="460" as="sourcePoint" />
            <mxPoint x="350" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge10" value="缓存管理" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;fontColor=#4CAF50;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="460" as="sourcePoint" />
            <mxPoint x="550" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge11" value="数据存储" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;fontColor=#4CAF50;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750" y="460" as="sourcePoint" />
            <mxPoint x="750" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge12" value="ORM映射" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;fontColor=#FF9800;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="600" as="sourcePoint" />
            <mxPoint x="200" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge13" value="HTTP通信" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;fontColor=#FF9800;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="600" as="sourcePoint" />
            <mxPoint x="350" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge14" value="依赖注入" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;fontColor=#FF9800;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="600" as="sourcePoint" />
            <mxPoint x="500" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge15" value="协程处理" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;fontColor=#FF9800;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="600" as="sourcePoint" />
            <mxPoint x="650" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge16" value="媒体播放" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;fontColor=#FF9800;fontSize=10;labelPosition=right;verticalLabelPosition=middle;align=left;spacingLeft=15;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="600" as="sourcePoint" />
            <mxPoint x="800" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="data-flow-label" value="数据流向：用户操作 → 业务处理 → 数据访问 → 基础设施" style="text;html=1;strokeColor=none;fillColor=#F5F5F5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="350" y="760" width="400" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
